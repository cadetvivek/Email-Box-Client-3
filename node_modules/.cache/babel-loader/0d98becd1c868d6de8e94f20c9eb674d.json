{"ast":null,"code":"import\"./Mail.css\";import{AiOutlineDelete,AiOutlineStar}from\"react-icons/ai\";import{NavLink}from\"react-router-dom\";import{getUsername}from\"../../helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Mail=function Mail(props){var user=localStorage.getItem(\"email\");var username=getUsername(user);var openHandler=function openHandler(key){if(!props.isSentBox){fetch(\"https://mail-box-49aa1-default-rtdb.firebaseio.com/\".concat(username,\"/receiver/\").concat(key,\".json\"),{method:\"PUT\",body:JSON.stringify({receiver:props.mail.receiver,subject:props.mail.subject,message:props.mail.message,sender:props.mail.sender,isOpen:true})});}};var deleteHandler=function deleteHandler(key){props.deleteItem(key);};return/*#__PURE__*/_jsxs(\"div\",{className:\"inbox_mail\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(AiOutlineStar,{})}),!props.mail.isOpen&&!props.isSentBox&&/*#__PURE__*/_jsx(\"span\",{className:\"dot\",children:\"\\xA0\"})]}),props.isSentBox===false&&/*#__PURE__*/_jsx(NavLink,{state:props.mail,to:\"/inbox/\".concat(props.mail.key),onClick:openHandler.bind(null,props.mail.key),children:/*#__PURE__*/_jsx(\"p\",{children:props.mail.subject})}),props.isSentBox===true&&/*#__PURE__*/_jsx(NavLink,{state:props.mail,to:\"/sent/\".concat(props.mail.key),children:/*#__PURE__*/_jsx(\"p\",{children:props.mail.subject})}),/*#__PURE__*/_jsx(\"span\",{className:\"delete_handler\",onClick:deleteHandler.bind(null,props.mail.key),children:/*#__PURE__*/_jsx(AiOutlineDelete,{})})]});};export default Mail;","map":{"version":3,"names":["AiOutlineDelete","AiOutlineStar","NavLink","getUsername","Mail","props","user","localStorage","getItem","username","openHandler","key","isSentBox","fetch","method","body","JSON","stringify","receiver","mail","subject","message","sender","isOpen","deleteHandler","deleteItem","bind"],"sources":["D:/React/React-Nots-E/Email-box-3/src/components/pages/Mail.js"],"sourcesContent":["import \"./Mail.css\";\nimport { AiOutlineDelete, AiOutlineStar } from \"react-icons/ai\";\nimport { NavLink } from \"react-router-dom\";\nimport { getUsername } from \"../../helper\";\n\nconst Mail = (props) => {\n  const user = localStorage.getItem(\"email\");\n  const username = getUsername(user);\n  const openHandler = (key) => {\n    if(!props.isSentBox) {\n    fetch(`https://mail-box-49aa1-default-rtdb.firebaseio.com/${username}/receiver/${key}.json`, {\n        method: \"PUT\",\n        body: JSON.stringify({\n            receiver: props.mail.receiver,\n            subject: props.mail.subject,\n            message: props.mail.message,\n            sender: props.mail.sender,\n            isOpen: true\n        })\n    })\n}\n}\nconst deleteHandler = (key) => {\n    props.deleteItem(key)\n}\n  return (\n        <div className=\"inbox_mail\">\n                <div>\n                <span><AiOutlineStar /></span>\n               {!props.mail.isOpen && !props.isSentBox && <span className=\"dot\">&nbsp;</span>}\n                </div>\n                {props.isSentBox === false && <NavLink state={props.mail} to={`/inbox/${props.mail.key}`} onClick={openHandler.bind(null, props.mail.key)}>\n               <p>{props.mail.subject}</p>\n                </NavLink>}\n                {props.isSentBox === true && <NavLink state={props.mail} to={`/sent/${props.mail.key}`}>\n                    <p>{props.mail.subject}</p>\n                </NavLink>}\n                <span className=\"delete_handler\" onClick={deleteHandler.bind(null, props.mail.key)}><AiOutlineDelete /></span>\n            </div>\n  );\n};\nexport default Mail;\n"],"mappings":"AAAA,MAAO,YAAP,CACA,OAASA,eAAT,CAA0BC,aAA1B,KAA+C,gBAA/C,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,WAAT,KAA4B,cAA5B,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACtB,GAAMC,KAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAb,CACA,GAAMC,SAAQ,CAAGN,WAAW,CAACG,IAAD,CAA5B,CACA,GAAMI,YAAW,CAAG,QAAdA,YAAc,CAACC,GAAD,CAAS,CAC3B,GAAG,CAACN,KAAK,CAACO,SAAV,CAAqB,CACrBC,KAAK,8DAAuDJ,QAAvD,sBAA4EE,GAA5E,UAAwF,CACzFG,MAAM,CAAE,KADiF,CAEzFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,QAAQ,CAAEb,KAAK,CAACc,IAAN,CAAWD,QADJ,CAEjBE,OAAO,CAAEf,KAAK,CAACc,IAAN,CAAWC,OAFH,CAGjBC,OAAO,CAAEhB,KAAK,CAACc,IAAN,CAAWE,OAHH,CAIjBC,MAAM,CAAEjB,KAAK,CAACc,IAAN,CAAWG,MAJF,CAKjBC,MAAM,CAAE,IALS,CAAf,CAFmF,CAAxF,CAAL,CAUH,CACA,CAbC,CAcF,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACb,GAAD,CAAS,CAC3BN,KAAK,CAACoB,UAAN,CAAiBd,GAAjB,EACH,CAFD,CAGE,mBACM,aAAK,SAAS,CAAC,YAAf,wBACQ,oCACA,mCAAM,KAAC,aAAD,IAAN,EADA,CAEA,CAACN,KAAK,CAACc,IAAN,CAAWI,MAAZ,EAAsB,CAAClB,KAAK,CAACO,SAA7B,eAA0C,aAAM,SAAS,CAAC,KAAhB,kBAF1C,GADR,CAKSP,KAAK,CAACO,SAAN,GAAoB,KAApB,eAA6B,KAAC,OAAD,EAAS,KAAK,CAAEP,KAAK,CAACc,IAAtB,CAA4B,EAAE,kBAAYd,KAAK,CAACc,IAAN,CAAWR,GAAvB,CAA9B,CAA4D,OAAO,CAAED,WAAW,CAACgB,IAAZ,CAAiB,IAAjB,CAAuBrB,KAAK,CAACc,IAAN,CAAWR,GAAlC,CAArE,uBAC/B,mBAAIN,KAAK,CAACc,IAAN,CAAWC,OAAf,EAD+B,EALtC,CAQSf,KAAK,CAACO,SAAN,GAAoB,IAApB,eAA4B,KAAC,OAAD,EAAS,KAAK,CAAEP,KAAK,CAACc,IAAtB,CAA4B,EAAE,iBAAWd,KAAK,CAACc,IAAN,CAAWR,GAAtB,CAA9B,uBACzB,mBAAIN,KAAK,CAACc,IAAN,CAAWC,OAAf,EADyB,EARrC,cAWQ,aAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAEI,aAAa,CAACE,IAAd,CAAmB,IAAnB,CAAyBrB,KAAK,CAACc,IAAN,CAAWR,GAApC,CAA1C,uBAAoF,KAAC,eAAD,IAApF,EAXR,GADN,CAeD,CAnCD,CAoCA,cAAeP,KAAf"},"metadata":{},"sourceType":"module"}