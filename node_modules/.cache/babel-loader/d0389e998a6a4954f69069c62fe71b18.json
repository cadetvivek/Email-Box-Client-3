{"ast":null,"code":"import _objectSpread from\"D:/React/React-Nots-E/Email-box-3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/React/React-Nots-E/Email-box-3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{NavLink}from\"react-router-dom\";import styles from\"./Home.module.css\";import{getUsername}from\"../../helper\";import Mail from\"./Mail\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sent=function Sent(){var mails=[];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inboxMail=_useState2[0],setInboxMail=_useState2[1];var user=localStorage.getItem(\"email\");var username=getUsername(user);useEffect(function(){fetch(\"https://mail-box-49aa1-default-rtdb.firebaseio.com/\".concat(username,\"/sent.json\")).then(function(res){return res.json();}).then(function(data){for(var _i=0,_Object$entries=Object.entries(data);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];mails.push(_objectSpread({key:key},value));}setInboxMail(mails);});},[]);var deleteHandler=function deleteHandler(key){fetch(\"https://mail-box-49aa1-default-rtdb.firebaseio.com/\".concat(username,\"/sent/\").concat(key,\".json\"),{method:\"DELETE\"}).then(function(res){var index=inboxMail.findIndex(function(item){return item.key===key;});inboxMail.splice(index,1);setInboxMail(inboxMail);window.location.reload();});};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.sidebar,children:[/*#__PURE__*/_jsxs(NavLink,{to:\"/home\",className:styles.none,activeClassName:styles.active,children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Compose\"})]}),/*#__PURE__*/_jsx(NavLink,{to:\"/inbox\",className:styles.none,activeClassName:styles.active,children:/*#__PURE__*/_jsx(\"div\",{children:\"Inbox\"})}),/*#__PURE__*/_jsxs(NavLink,{to:\"/sent\",className:styles.none,activeClassName:styles.active,children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Sent\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.mailsContainer,children:inboxMail.map(function(mail){return/*#__PURE__*/_jsx(Mail,{mail:mail,isSentBox:true,deleteItem:deleteHandler},mail.key);})})]})});};export default Sent;","map":{"version":3,"names":["React","Fragment","useEffect","useState","NavLink","styles","getUsername","Mail","Sent","mails","inboxMail","setInboxMail","user","localStorage","getItem","username","fetch","then","res","json","data","Object","entries","key","value","push","deleteHandler","method","index","findIndex","item","splice","window","location","reload","container","sidebar","none","active","mailsContainer","map","mail"],"sources":["D:/React/React-Nots-E/Email-box-3/src/components/pages/Sent.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"./Home.module.css\";\nimport { getUsername } from \"../../helper\";\nimport Mail from \"./Mail\";\n\nconst Sent = () => {\n  let mails = [];\n  const [inboxMail, setInboxMail] = useState([]);\n  const user = localStorage.getItem(\"email\");\n  const username = getUsername(user);\n\n  useEffect(() => {\n    fetch(\n      `https://mail-box-49aa1-default-rtdb.firebaseio.com/${username}/sent.json`\n    )\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        for (let [key, value] of Object.entries(data)) {\n          mails.push({ key, ...value });\n\n        }\n        setInboxMail(mails);\n      })\n  }, []);\n\n\n\n  const deleteHandler = (key) => {\n    fetch(`https://mail-box-49aa1-default-rtdb.firebaseio.com/${username}/sent/${key}.json`, {\n      method: \"DELETE\",\n    }).then((res) => {\n      const index = inboxMail.findIndex((item) => item.key === key);\n      inboxMail.splice(index, 1)\n      setInboxMail(inboxMail);\n      window.location.reload();\n    })\n  }\n\n\n  return (\n    <Fragment>\n      <div className={styles.container}>\n        <div className={styles.sidebar}>\n          <NavLink\n            to=\"/home\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            {\" \"}\n            <div>Compose</div>\n          </NavLink>\n          <NavLink\n            to=\"/inbox\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            <div>\n              Inbox\n            </div>\n          </NavLink>\n          <NavLink\n            to=\"/sent\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            {\" \"}\n            <div>Sent</div>\n          </NavLink>\n        </div>\n\n        <div className={styles.mailsContainer}>\n          {inboxMail.map((mail) => {\n            return <Mail key={mail.key} mail={mail} isSentBox={true} deleteItem={deleteHandler} />;\n          })}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\nexport default Sent;\n"],"mappings":"6OAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,GAAIC,MAAK,CAAG,EAAZ,CACA,cAAkCN,QAAQ,CAAC,EAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,GAAMC,KAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAb,CACA,GAAMC,SAAQ,CAAGT,WAAW,CAACM,IAAD,CAA5B,CAEAV,SAAS,CAAC,UAAM,CACdc,KAAK,8DACmDD,QADnD,eAAL,CAGGE,IAHH,CAGQ,SAACC,GAAD,CAAS,CACb,MAAOA,IAAG,CAACC,IAAJ,EAAP,CACD,CALH,EAMGF,IANH,CAMQ,SAACG,IAAD,CAAU,CACd,6BAAyBC,MAAM,CAACC,OAAP,CAAeF,IAAf,CAAzB,gCAA+C,CAA1C,6DAAKG,GAAL,uBAAUC,KAAV,uBACHf,KAAK,CAACgB,IAAN,gBAAaF,GAAG,CAAHA,GAAb,EAAqBC,KAArB,GAED,CACDb,YAAY,CAACF,KAAD,CAAZ,CACD,CAZH,EAaD,CAdQ,CAcN,EAdM,CAAT,CAkBA,GAAMiB,cAAa,CAAG,QAAhBA,cAAgB,CAACH,GAAD,CAAS,CAC7BP,KAAK,8DAAuDD,QAAvD,kBAAwEQ,GAAxE,UAAoF,CACvFI,MAAM,CAAE,QAD+E,CAApF,CAAL,CAEGV,IAFH,CAEQ,SAACC,GAAD,CAAS,CACf,GAAMU,MAAK,CAAGlB,SAAS,CAACmB,SAAV,CAAoB,SAACC,IAAD,QAAUA,KAAI,CAACP,GAAL,GAAaA,GAAvB,EAApB,CAAd,CACAb,SAAS,CAACqB,MAAV,CAAiBH,KAAjB,CAAwB,CAAxB,EACAjB,YAAY,CAACD,SAAD,CAAZ,CACAsB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAPD,EAQD,CATD,CAYA,mBACE,KAAC,QAAD,wBACE,aAAK,SAAS,CAAE7B,MAAM,CAAC8B,SAAvB,wBACE,aAAK,SAAS,CAAE9B,MAAM,CAAC+B,OAAvB,wBACE,MAAC,OAAD,EACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAE/B,MAAM,CAACgC,IAFpB,CAGE,eAAe,CAAEhC,MAAM,CAACiC,MAH1B,WAKG,GALH,cAME,gCANF,GADF,cASE,KAAC,OAAD,EACE,EAAE,CAAC,QADL,CAEE,SAAS,CAAEjC,MAAM,CAACgC,IAFpB,CAGE,eAAe,CAAEhC,MAAM,CAACiC,MAH1B,uBAKE,8BALF,EATF,cAkBE,MAAC,OAAD,EACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAEjC,MAAM,CAACgC,IAFpB,CAGE,eAAe,CAAEhC,MAAM,CAACiC,MAH1B,WAKG,GALH,cAME,6BANF,GAlBF,GADF,cA6BE,YAAK,SAAS,CAAEjC,MAAM,CAACkC,cAAvB,UACG7B,SAAS,CAAC8B,GAAV,CAAc,SAACC,IAAD,CAAU,CACvB,mBAAO,KAAC,IAAD,EAAqB,IAAI,CAAEA,IAA3B,CAAiC,SAAS,CAAE,IAA5C,CAAkD,UAAU,CAAEf,aAA9D,EAAWe,IAAI,CAAClB,GAAhB,CAAP,CACD,CAFA,CADH,EA7BF,GADF,EADF,CAuCD,CA3ED,CA4EA,cAAef,KAAf"},"metadata":{},"sourceType":"module"}