{"ast":null,"code":"import _objectSpread from\"C:/Users/cp/Desktop/Email-box-3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/cp/Desktop/Email-box-3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useEffect}from\"react\";import{useParams,NavLink}from\"react-router-dom\";import{getUsername}from\"../../helper\";import{mailActions}from\"../../store/mailSlice\";import{useDispatch,useSelector}from\"react-redux\";import styles from\"./Home.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MailRead=function MailRead(props){var dispatch=useDispatch();var param=useParams();var user=localStorage.getItem(\"email\");var username=getUsername(user);var mail=useSelector(function(state){return state.mail.mail;});useEffect(function(){if(!props.isSent){fetch(\"https://mail-box-49aa1-default-rtdb.firebaseio.com/\".concat(username,\"/receiver.json\")).then(function(res){return res.json();}).then(function(data){var inboxMails=[];for(var _i=0,_Object$entries=Object.entries(data);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];inboxMails.push(_objectSpread({key:key},value));}var selectedMail=inboxMails.find(function(i){return i.key===param.id;});dispatch(mailActions.replaceMail(selectedMail));});}else{fetch(\"https://mail-box-49aa1-default-rtdb.firebaseio.com/\".concat(username,\"/sent.json\")).then(function(res){return res.json();}).then(function(data){var inboxMails=[];for(var _i2=0,_Object$entries2=Object.entries(data);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],value=_Object$entries2$_i[1];inboxMails.push(_objectSpread({key:key},value));}var selectedMail=inboxMails.find(function(i){return i.key===param.id;});dispatch(mailActions.replaceMail(selectedMail));});}},[]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.sidebar,children:[/*#__PURE__*/_jsxs(NavLink,{to:\"/home\",className:styles.none,activeClassName:styles.active,children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Compose\"})]}),/*#__PURE__*/_jsx(NavLink,{to:\"/inbox\",className:styles.none,activeClassName:styles.active,children:/*#__PURE__*/_jsx(\"div\",{children:\"Inbox\"})}),/*#__PURE__*/_jsxs(NavLink,{to:\"/sent\",className:styles.none,activeClassName:styles.active,children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Sent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.mailsContainer,children:[!props.isSent&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:styles.bold,children:\"From:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:mail.receiver})]}),props.isSent&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:styles.bold,children:\"To:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:mail.to})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:styles.bold,children:\"Subject:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:mail.subject})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:styles.bold,children:\"Message:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:mail.message})]})]})]})});};export default MailRead;","map":{"version":3,"names":["Fragment","useEffect","useParams","NavLink","getUsername","mailActions","useDispatch","useSelector","styles","MailRead","props","dispatch","param","user","localStorage","getItem","username","mail","state","isSent","fetch","then","res","json","data","inboxMails","Object","entries","key","value","push","selectedMail","find","i","id","replaceMail","container","sidebar","none","active","mailsContainer","bold","receiver","to","subject","message"],"sources":["C:/Users/cp/Desktop/Email-box-3/src/components/pages/MailRead.js"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\nimport { useParams, NavLink} from \"react-router-dom\";\nimport { getUsername } from \"../../helper\";\nimport { mailActions } from \"../../store/mailSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"./Home.module.css\";\n\nconst MailRead = (props) =>{\n    const dispatch = useDispatch();\n    const param = useParams();\n    const user = localStorage.getItem(\"email\");\n    const username = getUsername(user);\n    const mail = useSelector(state => state.mail.mail);\n\n    useEffect(() => {\n      if(!props.isSent) {\n        fetch(`https://mail-box-49aa1-default-rtdb.firebaseio.com/${username}/receiver.json`)\n        .then((res) => {return res.json()})\n        .then((data) => {\n             let inboxMails = [];\n            for (let [key, value] of Object.entries(data)) {\n                inboxMails.push({ key, ...value });  \n            }\n           const selectedMail = inboxMails.find((i) => i.key === param.id); \n           dispatch(mailActions.replaceMail(selectedMail));\n        }) }else {\n          fetch(`https://mail-box-49aa1-default-rtdb.firebaseio.com/${username}/sent.json`)\n          .then((res) => {return res.json()})\n          .then((data) => {\n               let inboxMails = [];\n              for (let [key, value] of Object.entries(data)) {\n                  inboxMails.push({ key, ...value });  \n              }\n             const selectedMail = inboxMails.find((i) => i.key === param.id); \n             dispatch(mailActions.replaceMail(selectedMail));\n          })\n        }    \n    }, [])\n  \n    return (\n        <Fragment>\n      <div className={styles.container}>\n        <div className={styles.sidebar}>\n          <NavLink\n            to=\"/home\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            {\" \"}\n            <div>Compose</div>\n          </NavLink>\n          <NavLink\n            to=\"/inbox\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            <div>\n              Inbox\n            </div>\n          </NavLink>\n          <NavLink\n            to=\"/sent\"\n            className={styles.none}\n            activeClassName={styles.active}\n          >\n            {\" \"}\n            <div>Sent</div>\n          </NavLink>\n        </div>\n\n        <div className={styles.mailsContainer}>\n        {!props.isSent && <p><span className={styles.bold}>From:</span> <span>{mail.receiver}</span></p>}\n        {props.isSent && <p><span className={styles.bold}>To:</span> <span>{mail.to}</span></p>}\n         <p><span className={styles.bold}>Subject:</span> <span>{mail.subject}</span></p>\n         <p><span className={styles.bold}>Message:</span> <span>{mail.message}</span></p>\n       \n        </div>\n      </div>\n    </Fragment>\n    )\n}\n\nexport default MailRead;"],"mappings":"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"},"metadata":{},"sourceType":"module"}