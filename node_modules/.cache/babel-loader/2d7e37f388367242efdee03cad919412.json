{"ast":null,"code":"import React,{useRef}from'react';import{NavLink,useHistory}from\"react-router-dom\";import\"./SignUp.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var fetchEmailRef=useRef();var fetchPasswordRef=useRef();var history=useHistory();var loginFormHandler=function loginFormHandler(e){e.preventDefault();var enteredEmail=fetchEmailRef.current.value;var enteredPassword=fetchPasswordRef.current.value;if(enteredEmail&&enteredPassword){//FIREBSE API \nfetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCJJbj1SLwNgFIE4greHapQO5XoPsWVlBA',{method:'POST',body:JSON.stringify({email:enteredEmail,password:enteredPassword,returnSecureToken:true}),headers:{'Content-Type':'application/json'}}).then(function(res){if(res.ok){res.json().then(function(data){localStorage.setItem('token',data.idToken);localStorage.setItem('email',enteredEmail);});history.replace('/home');window.location.reload();}else{return res.json().then(function(data){alert(data.error.message);});}});}else{alert('Please Fill All The Details');}};return/*#__PURE__*/_jsxs(\"form\",{className:\"contact-form\",onSubmit:loginFormHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login \"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"Enter Your Email\",ref:fetchEmailRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Enter Your Password\",ref:fetchPasswordRef})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Not Have an Account ? \",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"SignUp\"})]})]});};export default Login;","map":{"version":3,"names":["React","useRef","NavLink","useHistory","Login","fetchEmailRef","fetchPasswordRef","history","loginFormHandler","e","preventDefault","enteredEmail","current","value","enteredPassword","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","localStorage","setItem","idToken","replace","window","location","reload","alert","error","message"],"sources":["C:/Users/cp/Desktop/Email-box-3/src/components/auth/Login.js"],"sourcesContent":["import React, { useRef} from 'react'\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport \"./SignUp.css\";\n\nconst Login = () => {\n    let fetchEmailRef = useRef();\n    let fetchPasswordRef = useRef();\n    const history = useHistory();\n    const loginFormHandler = (e) => {\n        e.preventDefault();\n        let enteredEmail = fetchEmailRef.current.value;\n        let enteredPassword = fetchPasswordRef.current.value;\n      \n         \nif(enteredEmail && enteredPassword) {\n    //FIREBSE API \n        fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCJJbj1SLwNgFIE4greHapQO5XoPsWVlBA', {\n            \n            method: 'POST',\n            body: JSON.stringify({\n              email: enteredEmail,\n              password: enteredPassword,\n              returnSecureToken: true\n          }),\n          headers:{ \n            'Content-Type': 'application/json'\n         }\n          })\n          .then( res => {\n            if(res.ok) {\n              res.json().then(data => {localStorage.setItem('token',data.idToken);\n              localStorage.setItem('email', enteredEmail)\n            })\n                history.replace('/home')  \n              \n              window.location.reload()\n            } else {\n              return res.json().then(data => {\n                alert(data.error.message);\n              });\n            }\n          }\n          )\n        }\n      else {\n          alert ('Please Fill All The Details')\n        }\n    }\n  \n  return (\n   <form className=\"contact-form\" onSubmit={loginFormHandler}>\n    <h1>Login </h1>\n    <div>\n        <label htmlFor=\"email\">Email</label><br/>\n        <input type='email' id='email' placeholder=\"Enter Your Email\" ref={fetchEmailRef}/>\n    </div>\n    <div>\n        <label htmlFor=\"password\">Password</label><br/>\n        <input type='password' id='password' placeholder=\"Enter Your Password\" ref={fetchPasswordRef}/>\n    </div>\n    <button type='submit'>Submit</button>\n    <p>Not Have an Account ? <NavLink to='/signup'>SignUp</NavLink></p>\n   </form>\n   \n  );\n};\nexport default Login;\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,MAAhB,KAA6B,OAA7B,CACA,OAASC,OAAT,CAAkBC,UAAlB,KAAoC,kBAApC,CACA,MAAO,cAAP,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAChB,GAAIC,cAAa,CAAGJ,MAAM,EAA1B,CACA,GAAIK,iBAAgB,CAAGL,MAAM,EAA7B,CACA,GAAMM,QAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,CAAD,CAAO,CAC5BA,CAAC,CAACC,cAAF,GACA,GAAIC,aAAY,CAAGN,aAAa,CAACO,OAAd,CAAsBC,KAAzC,CACA,GAAIC,gBAAe,CAAGR,gBAAgB,CAACM,OAAjB,CAAyBC,KAA/C,CAGR,GAAGF,YAAY,EAAIG,eAAnB,CAAoC,CAChC;AACIC,KAAK,CAAC,mHAAD,CAAsH,CAEvHC,MAAM,CAAE,MAF+G,CAGvHC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,KAAK,CAAET,YADY,CAEnBU,QAAQ,CAAEP,eAFS,CAGnBQ,iBAAiB,CAAE,IAHA,CAAf,CAHiH,CAQzHC,OAAO,CAAC,CACN,eAAgB,kBADV,CARiH,CAAtH,CAAL,CAYGC,IAZH,CAYS,SAAAC,GAAG,CAAI,CACZ,GAAGA,GAAG,CAACC,EAAP,CAAW,CACTD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAAAI,IAAI,CAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BF,IAAI,CAACG,OAAlC,EACzBF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BnB,YAA9B,EACD,CAFC,EAGEJ,OAAO,CAACyB,OAAR,CAAgB,OAAhB,EAEFC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAPD,IAOO,CACL,MAAOV,IAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAAAI,IAAI,CAAI,CAC7BQ,KAAK,CAACR,IAAI,CAACS,KAAL,CAAWC,OAAZ,CAAL,CACD,CAFM,CAAP,CAGD,CACF,CAzBH,EA2BC,CA7BT,IA8BW,CACDF,KAAK,CAAE,6BAAF,CAAL,CACD,CACJ,CAvCD,CAyCF,mBACC,cAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAE5B,gBAAzC,wBACC,8BADD,cAEC,oCACI,cAAO,OAAO,CAAC,OAAf,mBADJ,cACwC,aADxC,cAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,EAAE,CAAC,OAAvB,CAA+B,WAAW,CAAC,kBAA3C,CAA8D,GAAG,CAAEH,aAAnE,EAFJ,GAFD,cAMC,oCACI,cAAO,OAAO,CAAC,UAAf,sBADJ,cAC8C,aAD9C,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,WAAW,CAAC,qBAAjD,CAAuE,GAAG,CAAEC,gBAA5E,EAFJ,GAND,cAUC,eAAQ,IAAI,CAAC,QAAb,oBAVD,cAWC,2DAAyB,KAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,oBAAzB,GAXD,GADD,CAgBD,CA7DD,CA8DA,cAAeF,MAAf"},"metadata":{},"sourceType":"module"}